# Web前端使用说明

## 功能特性

1. **完整的参数配置界面**：所有参数都可以通过Web界面填写
2. **实时进度显示**：通过Server-Sent Events (SSE)实时显示任务执行进度
3. **参数验证**：前端和后端双重验证，确保必填参数都已填写
4. **任务管理**：支持启动和停止任务

## 安装依赖

```bash
pip install -r requirements_web.txt
```

## 启动Web服务

```bash
# 方式1: 使用启动脚本
./start_web.sh

# 方式2: 直接运行
python3 web_app.py
```

启动后，访问 `http://localhost:5000` 即可使用Web界面。

## 参数说明

### 必填参数（无默认值）

- **输入文件路径** (`--input-file`): 输入的样本JSONL文件路径
- **输出文件路径** (`--output`): 输出的JSONL文件路径
- **API服务地址** (`--services`): 可以添加多个服务地址，系统会自动分配任务
- **模型路径** (`--model`): 模型名称或路径
- **批处理大小** (`--batch-size`): 每个服务的批处理大小
- **最大并发数** (`--max-concurrent`): 每个服务的最大并发数
- **最低评分** (`--min-score`): 最低评分要求(0-10)
- **特殊任务提示词** (`--special-prompt`): 用于指导模型生成特定格式或内容的任务提示词
- **题材方向** (`--directions`): 需要构造的题材，多个题材用空格分隔

### 可选参数（有默认值）

- **任务类型** (`--task-type`): 默认值为 `entity_extraction`
- **每个样本的变体数量** (`--variants-per-sample`): 默认值为 `3`
- **数据使用轮次** (`--data-rounds`): 默认值为 `10`
- **重试次数** (`--retry-times`): 默认值为 `3`

## 使用流程

1. 打开Web界面 (`http://localhost:5000`)
2. 填写所有必填参数
3. 可选参数可以使用默认值或自定义
4. 点击"启动任务"按钮
5. 在进度区域实时查看任务执行情况
6. 任务完成后会显示最终状态

## 注意事项

1. 确保所有必填参数都已填写，否则无法启动任务
2. 至少需要添加一个API服务地址
3. 题材方向 (`--directions`) 在前端以空格分隔的字符串形式输入，系统会自动拆分
4. 任务执行过程中可以点击"停止任务"按钮来终止任务
5. 进度信息会实时显示在页面上，包括日志输出和状态更新

## 技术实现

- **后端**: Flask + Server-Sent Events (SSE)
- **前端**: 原生HTML/CSS/JavaScript
- **进度传输**: 使用SSE实时流式传输任务输出

