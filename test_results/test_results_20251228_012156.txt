========================================
  Go后端API完整测试
  时间: 2025-12-28 01:21:56
========================================

[1;33m➤ 启动服务器...[0m

========================================
  1. 认证接口测试 (4个接口)
========================================

[2025-12-28 01:22:00] 1.1 健康检查
[0;32m✓ 健康检查 - 通过[0m

[2025-12-28 01:22:00] 测试: 用户注册
[1;33m➤   方法: POST[0m
[1;33m➤   路径: /api/register[0m
[1;33m➤   数据: {"username":"testuser_20251228_012156","password":"test123"}[0m
[0;32m✓ 用户注册 - 通过[0m

[2025-12-28 01:22:00] 测试: 用户登录
[1;33m➤   方法: POST[0m
[1;33m➤   路径: /api/login[0m
[1;33m➤   数据: {"username":"admin","password":"admin"}[0m
[0;31m✗ 用户登录 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"用户名或密码错误"}[0m

[0;31m✗ Token获取失败[0m

========================================
  2. 任务管理接口测试 (8个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取任务列表
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/tasks[0m
[0;31m✗ 获取任务列表 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取活跃任务
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/active_task[0m
[0;31m✗ 获取活跃任务 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取任务状态
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/status/test_task[0m
[0;31m✗ 获取任务状态 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

========================================
  3. 数据文件管理接口测试 (13个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取文件列表
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/data_files?page=1&per_page=10[0m
[0;31m✗ 获取文件列表 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取文件详情
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/data_files/1[0m
[0;31m✗ 获取文件详情 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取文件内容
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/data_files/1/content[0m
[0;31m✗ 获取文件内容 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

========================================
  4. 模型接口测试 (2个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取模型列表
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/models[0m
[0;31m✗ 获取模型列表 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

========================================
  5. 生成数据接口测试 (11个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取生成数据列表
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/generated_data?task_id=test[0m
[0;31m✗ 获取生成数据列表 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取任务数据信息
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/generated_data/test/info[0m
[0;31m✗ 获取任务数据信息 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

========================================
  6. 报告接口测试 (4个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取报告列表
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/reports[0m
[0;31m✗ 获取报告列表 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

========================================
  7. 管理员接口测试 (9个接口)
========================================

[2025-12-28 01:22:00] 测试: 获取所有用户
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/admin/users[0m
[0;31m✗ 获取所有用户 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取所有模型
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/admin/models[0m
[0;31m✗ 获取所有模型 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m

[2025-12-28 01:22:00] 测试: 获取所有任务
[1;33m➤   方法: GET[0m
[1;33m➤   路径: /api/admin/tasks[0m
[0;31m✗ 获取所有任务 - 失败 (HTTP 401)[0m
[1;33m➤   响应: {"code":401,"message":"未认证"}[0m


========================================
  测试完成
========================================

总测试数: 15
通过数: 2
失败数: 15

测试结果已保存到: test_results/test_results_20251228_012156.txt

[1;33m➤ 停止服务器...[0m
